<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ±‰å­—å­—å¡å­¦ä¹ </title>
    <style>
        body {
            font-family: 'Microsoft YaHei', sans-serif;
            text-align: center;
            background-color: #f0f9ff;
            padding: 20px;
        }
        .container {
            max-width: 600px;
            margin: 0 auto;
            background-color: white;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        h1 {
            color: #2b6cb0;
        }
        .level-selector {
            margin: 20px 0;
        }
        button {
            background-color: #4299e1;
            color: white;
            border: none;
            padding: 8px 16px;
            margin: 0 5px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            transition: background-color 0.3s;
        }
        button:hover {
            background-color: #2b6cb0;
        }
        .card {
            width: 300px;
            height: 400px;
            margin: 20px auto;
            perspective: 1000px;
        }
        .card-inner {
            position: relative;
            width: 100%;
            height: 100%;
            transition: transform 0.8s;
            transform-style: preserve-3d;
        }
        .card:hover .card-inner {
            transform: rotateY(180deg);
        }
        .card-front, .card-back {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            border-radius: 15px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }
        .card-front {
            background-color: #ebf8ff;
            color: #2b6cb0;
        }
        .card-back {
            background-color: #bee3f8;
            color: #2c5282;
            transform: rotateY(180deg);
        }
        .character {
            font-size: 120px;
            margin: 20px 0;
            cursor: pointer;
        }
        .pinyin {
            font-size: 36px;
            color: #4a5568;
            margin-bottom: 20px;
        }
        .words {
            font-size: 24px;
            line-height: 1.5;
        }
        .controls {
            margin-top: 20px;
        }
        .hidden {
            display: none;
        }
        .speaker-icon {
            font-size: 24px;
            margin-left: 10px;
            cursor: pointer;
            color: #4a5568;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>æ±‰å­—å­—å¡å­¦ä¹ </h1>
        
        <div class="level-selector">
            <button onclick="selectLevel('small')">å°ç­å­—å¡</button>
            <button onclick="selectLevel('medium')">ä¸­ç­å­—å¡</button>
            <button onclick="selectLevel('large')">å¤§ç­å­—å¡</button>
        </div>
        
        <div id="card-container" class="hidden">
            <div class="card">
                <div class="card-inner">
                    <div class="card-front">
                        <div id="current-character" class="character">å­—
                            <span class="speaker-icon" onclick="speakCurrentCharacter(event)">ğŸ”Š</span>
                        </div>
                    </div>
                    <div class="card-back">
                        <div id="current-pinyin" class="pinyin">zÃ¬</div>
                        <div id="current-words" class="words">
                            <div>æ±‰å­—</div>
                            <div>å†™å­—</div>
                            <div>å­—æ¯</div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="controls">
                <button onclick="nextCard()">ä¸‹ä¸€ä¸ªå­—</button>
                <button onclick="speakCurrentCharacter()">æœ—è¯»è¿™ä¸ªå­—</button>
            </div>
        </div>
    </div>

    <script>
        // å­—å¡æ•°æ®åº“
        const wordCards = {
            small: [
                { char: "ä¸€", pinyin: "yÄ«", words: ["ä¸€ä¸ª", "ç¬¬ä¸€", "ä¸€èµ·"] },
                { char: "äºŒ", pinyin: "Ã¨r", words: ["äºŒæœˆ", "ç¬¬äºŒ", "äºŒèƒ¡"] },
                { char: "ä¸‰", pinyin: "sÄn", words: ["ä¸‰æœˆ", "ç¬¬ä¸‰", "ä¸‰å²"] },
                { char: "å", pinyin: "shÃ­", words: ["åæœˆ", "ååˆ†", "åå²"] },
                { char: "äºº", pinyin: "rÃ©n", words: ["äººæ°‘", "å¤§äºº", "äººå£"] },
                { char: "å£", pinyin: "kÇ’u", words: ["å£æ°´", "å‡ºå£", "é—¨å£"] },
                { char: "ä¸Š", pinyin: "shÃ ng", words: ["ä¸Šé¢", "ä¸Šå­¦", "ä¸Šè½¦"] },
                { char: "ä¸‹", pinyin: "xiÃ ", words: ["ä¸‹é¢", "ä¸‹è½¦", "ä¸‹åˆ"] },
                { char: "å¤§", pinyin: "dÃ ", words: ["å¤§äºº", "å¤§å°", "å¤§å­¦"] },
                { char: "å°", pinyin: "xiÇo", words: ["å°å­©", "å°å­¦", "å¤§å°"] },
                { char: "å„¿", pinyin: "Ã©r", words: ["å„¿å­", "å„¿ç«¥", "å¥³å„¿"] },
                { char: "æœ¨", pinyin: "mÃ¹", words: ["æœ¨å¤´", "æ ‘æœ¨", "æœ¨é©¬"] },
                { char: "åœŸ", pinyin: "tÇ”", words: ["åœŸåœ°", "æ³¥åœŸ", "åœŸè±†"] },
                { char: "å¤©", pinyin: "tiÄn", words: ["å¤©ç©º", "å¤©æ°”", "ä»Šå¤©"] },
                { char: "ç«", pinyin: "huÇ’", words: ["ç«è½¦", "ç«ç¾", "ç«è‹—"] },
                { char: "ä¸­", pinyin: "zhÅng", words: ["ä¸­å›½", "ä¸­é—´", "ä¸­åˆ"] },
                { char: "æ—¥", pinyin: "rÃ¬", words: ["æ—¥å­", "ç”Ÿæ—¥", "æ—¥å†"] },
                { char: "ä¸ª", pinyin: "gÃ¨", words: ["ä¸ªäºº", "ä¸ªåˆ«", "ä¸ªå­"] },
                { char: "å·¥", pinyin: "gÅng", words: ["å·¥äºº", "å·¥ä½œ", "å·¥å‚"] },
                { char: "å¹¿", pinyin: "guÇng", words: ["å¹¿å‘Š", "å¹¿åœº", "å¹¿ä¸œ"] }
            ],
            medium: [
                { char: "æ‰‹", pinyin: "shÇ’u", words: ["æ‰‹æœº", "æ‰‹è¡¨", "æ´—æ‰‹"] },
                { char: "æ–‡", pinyin: "wÃ©n", words: ["æ–‡åŒ–", "ä¸­æ–‡", "ä½œæ–‡"] },
                { char: "ç¦¾", pinyin: "hÃ©", words: ["ç¦¾è‹—", "ç¦¾æœ¬ç§‘", "ç¦¾ç”°"] },
                { char: "å­", pinyin: "zÇ", words: ["å­©å­", "å„¿å­", "å­å¥³"] },
                { char: "é—¨", pinyin: "mÃ©n", words: ["é—¨å£", "å¤§é—¨", "é—¨é“ƒ"] },
                { char: "æœˆ", pinyin: "yuÃ¨", words: ["æœˆäº®", "æœˆä»½", "æœˆé¥¼"] },
                { char: "ä¸", pinyin: "bÃ¹", words: ["ä¸è¦", "ä¸æ˜¯", "ä¸å¥½"] },
                { char: "å¼€", pinyin: "kÄi", words: ["å¼€å¿ƒ", "å¼€é—¨", "å¼€è½¦"] },
                { char: "å››", pinyin: "sÃ¬", words: ["å››æœˆ", "å››å­£", "å››å‘¨"] },
                { char: "äº”", pinyin: "wÇ”", words: ["äº”æœˆ", "äº”ä¸ª", "äº”å½©"] },
                { char: "å…­", pinyin: "liÃ¹", words: ["å…­æœˆ", "å…­ä¸ª", "å…­å²"] },
                { char: "ä¸ƒ", pinyin: "qÄ«", words: ["ä¸ƒæœˆ", "ä¸ƒä¸ª", "ä¸ƒå½©"] },
                { char: "å…«", pinyin: "bÄ", words: ["å…«æœˆ", "å…«ä¸ª", "å…«å“¥"] },
                { char: "ä¹", pinyin: "jiÇ”", words: ["ä¹æœˆ", "ä¹ä¸ª", "ä¹å²"] },
                { char: "ç›®", pinyin: "mÃ¹", words: ["ç›®æ ‡", "ç›®çš„", "ç›®å½•"] },
                { char: "è€³", pinyin: "Ä›r", words: ["è€³æœµ", "è€³æœº", "è€³ç¯"] },
                { char: "å¤´", pinyin: "tÃ³u", words: ["å¤´å‘", "å¤´è„‘", "å¤´é¡¶"] },
                { char: "ç±³", pinyin: "mÇ", words: ["ç±³é¥­", "å¤§ç±³", "ç±³ç²‰"] },
                { char: "è§", pinyin: "jiÃ n", words: ["è§é¢", "çœ‹è§", "è§è§£"] },
                { char: "ç™½", pinyin: "bÃ¡i", words: ["ç™½è‰²", "ç™½å¤©", "ç™½äº‘"] }
            ],
            large: [
                { char: "çˆ¸", pinyin: "bÃ ", words: ["çˆ¸çˆ¸", "çˆ¸å¦ˆ", "è€çˆ¸"] },
                { char: "å¦ˆ", pinyin: "mÄ", words: ["å¦ˆå¦ˆ", "çˆ¸å¦ˆ", "è€å¦ˆ"] },
                { char: "çˆ·", pinyin: "yÃ©", words: ["çˆ·çˆ·", "å¤§çˆ·", "çˆ·å­™"] },
                { char: "å¥¶", pinyin: "nÇi", words: ["å¥¶å¥¶", "ç‰›å¥¶", "å¥¶ç²‰"] },
                { char: "é¸Ÿ", pinyin: "niÇo", words: ["å°é¸Ÿ", "é¸Ÿå„¿", "é¸Ÿå·¢"] },
                { char: "å‡", pinyin: "shÄ“ng", words: ["å‡èµ·", "ä¸Šå‡", "å‡å­¦"] },
                { char: "è¶³", pinyin: "zÃº", words: ["è¶³çƒ", "è¶³å¤Ÿ", "æ‰‹è¶³"] },
                { char: "èµ°", pinyin: "zÇ’u", words: ["èµ°è·¯", "è¡Œèµ°", "èµ°å¼€"] },
                { char: "æ–¹", pinyin: "fÄng", words: ["æ–¹å‘", "æ–¹æ³•", "æ–¹é¢"] },
                { char: "åŠ", pinyin: "bÃ n", words: ["ä¸€åŠ", "åŠå¤©", "åŠè·¯"] },
                { char: "ä¸š", pinyin: "yÃ¨", words: ["ä½œä¸š", "ä¸šåŠ¡", "å·¥ä¸š"] },
                { char: "æœ¬", pinyin: "bÄ›n", words: ["ä¹¦æœ¬", "æœ¬å­", "æœ¬æ¥"] },
                { char: "å¹³", pinyin: "pÃ­ng", words: ["å¹³å®‰", "å¹³æ—¶", "æ°´å¹³"] },
                { char: "ä¹¦", pinyin: "shÅ«", words: ["ä¹¦æœ¬", "ä¹¦åŒ…", "ä¹¦åº—"] },
                { char: "è‡ª", pinyin: "zÃ¬", words: ["è‡ªå·±", "è‡ªç„¶", "è‡ªç”±"] },
                { char: "å·²", pinyin: "yÇ", words: ["å·²ç»", "æ—©å·²", "å·²æ•…"] },
                { char: "ä¸œ", pinyin: "dÅng", words: ["ä¸œæ–¹", "ä¸œè¥¿", "ä¸œåŒ—"] },
                { char: "è¥¿", pinyin: "xÄ«", words: ["è¥¿æ–¹", "è¥¿ç“œ", "è¥¿åŒ—"] },
                { char: "å›", pinyin: "huÃ­", words: ["å›å®¶", "å›æ¥", "å›ç­”"] },
                { char: "ç‰‡", pinyin: "piÃ n", words: ["ç…§ç‰‡", "å¡ç‰‡", "ä¸€ç‰‡"] }
            ]
        };

        let currentLevel = null;
        let currentCards = [];
        let currentIndex = 0;

        function selectLevel(level) {
            currentLevel = level;
            currentCards = [...wordCards[level]];
            shuffleArray(currentCards);
            currentIndex = 0;
            document.getElementById('card-container').classList.remove('hidden');
            showCurrentCard();
        }

        function nextCard() {
            currentIndex = (currentIndex + 1) % currentCards.length;
            showCurrentCard();
            // è‡ªåŠ¨æœ—è¯»æ–°å­—
            speakCurrentCharacter();
        }

        function showCurrentCard() {
            const card = currentCards[currentIndex];
            document.getElementById('current-character').innerHTML = 
                `${card.char}<span class="speaker-icon" onclick="speakCurrentCharacter(event)">ğŸ”Š</span>`;
            document.getElementById('current-pinyin').textContent = card.pinyin;
            
            const wordsContainer = document.getElementById('current-words');
            wordsContainer.innerHTML = '';
            card.words.forEach(word => {
                const div = document.createElement('div');
                div.textContent = word;
                wordsContainer.appendChild(div);
            });
        }

        // æœ—è¯»å½“å‰æ±‰å­—
        function speakCurrentCharacter(event) {
            if (event) {
                event.stopPropagation(); // é˜²æ­¢è§¦å‘å¡ç‰‡ç¿»è½¬
            }
            
            if (!currentCards.length) return;
            
            const card = currentCards[currentIndex];
            const utterance = new SpeechSynthesisUtterance(card.char);
            
            // è®¾ç½®ä¸­æ–‡å‘éŸ³
            utterance.lang = 'zh-CN';
            utterance.rate = 0.8; // ç¨å¾®æ”¾æ…¢è¯­é€Ÿ
            
            // æ£€æŸ¥æµè§ˆå™¨æ˜¯å¦æ”¯æŒè¯­éŸ³åˆæˆ
            if ('speechSynthesis' in window) {
                // å–æ¶ˆä»»ä½•æ­£åœ¨è¿›è¡Œçš„è¯­éŸ³
                window.speechSynthesis.cancel();
                // æœ—è¯»
                window.speechSynthesis.speak(utterance);
            } else {
                alert('æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒè¯­éŸ³æœ—è¯»åŠŸèƒ½ï¼Œè¯·ä½¿ç”¨Chromeæˆ–Edgeç­‰ç°ä»£æµè§ˆå™¨ã€‚');
            }
        }

        // æ‰“ä¹±æ•°ç»„é¡ºåº
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }
    </script>
</body>
</html>
